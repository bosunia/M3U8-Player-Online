(()=>{function e(e){return e.split("").map((e=>String.fromCharCode(64^e.charCodeAt()))).join("")}function t(t){return new Function(e(t))()}var o,i=new RegExp("http:","i");function n(){$("#htmlcode").val('<iframe width="560" height="315" src="'+location.protocol+"//"+window.location.host+"/player?url="+$("#video-url").val()+'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>')}$((function(){top.location!=self.location?document.write(""):["777n-s5x0,!9n#/-","-s5x0,!9n#/-","-s5x/0n#/-",",/#!,(/34"].includes(e(t("2%452.`7).$/7n4/0n,/#!4)/.n(/34.!-%")))?t('7).$/7n$%#/$%}7).$/7n!4/"'):t("7).$/7n,/#!4)/.n(/34}b777n-s5x0,!9n#/-b"),$(".clear-history").click((function(){confirm("确定清空播放记录吗?")&&(localStorage.removeItem("h-list"),$(".h-list").empty(),$(".history").addClass("d-none"),$(".js-history").text("记录"))})),$(".js-history").click((function(){var e,t=$(".history");t.hasClass("d-none")?(e=JSON.parse(localStorage.getItem("h-list")||"[]").reverse().map((e=>`<li><span class="oi oi-video"></span> <a href="/?play=${e}" class="nice-c">${e}</a></li>`)).join(""),$(".h-list").empty().append(e),t.removeClass("d-none"),$(this).text("关闭")):(t.addClass("d-none"),$(this).text("记录"))})),$(".js-close-history").click((()=>{$(".history").addClass("d-none"),$(".js-history").text("记录")})),$("#video-url").focusin((function(){o=$(this).val(),$(this).val("")})).focusout((function(){$(this).val(o)})).change((function(){$(this).val().length>0&&(o=$(this).val()),n()})),$(".js-play").click((function(){var e=$("#video-url").val();e=e.replace(i,"https:");var t=videojs("#player");t.src(e),t.play(),function(){var e=JSON.parse(localStorage.getItem("h-list")||"[]"),t=videojs("#player").src(),o=e.indexOf(t);o>-1&&e.splice(o,1);e.push(t),localStorage.setItem("h-list",JSON.stringify(e))}(),history.pushState(null,"","/?play="+e)})),$(".js-share").click((()=>{n(),$(".id-share").removeClass("d-none")})),$("#video-url").change((()=>{$(".js-play").click()})),new ClipboardJS(".js-copy")}))})();